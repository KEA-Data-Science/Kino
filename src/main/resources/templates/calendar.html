<!DOCTYPE html>
<html lang='en'  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>

    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.3.2/main.css">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.3.2/main.min.js"></script>
    <title>Overview</title>

</head>
<body>
<div class="container">
    <div class="jumbotron">
        <h1>ðŸŽž Kino ðŸŽž ðŸŽž ðŸŽžðŸŽž</h1>
    </div>
</div>
<div class="container">



    <button style="display: inline;">Create booking</button>


    <div style= "width: 100%; height: 100%;">
        <br>
        <div id="calendar" style="width: 100%; height: 100%;"></div>
    </div>

</div>

<script th:inline="javascript">
    var calendar;

    var message = [[${bookings}]];
    var titles = [[${titles}]];
    var titlesMessage = [];

    document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            eventDidMount: function (info) {

                $(info.el).append("<b style='color : black;'>Title :</b> : <br><span style='color : black;'>" + titles[info.event.id] +"</span><br>");
                $(info.el).append("<b style='color : black;'>Name :</b> : <br><span style='color : black;'>" + message[info.event.id].customerName +"</span><br>");
                $(info.el).append("<form action=\'editBooking?id=" + message[info.event.id].id +   "\' method=\'post\'> <button>Choose</button></form>");

            }
        });
        for (var i = 0; i < message.length; i++)
        {
            calendar.addEvent({date :  message[i].showTime,  display : "block", id : i});

        }

        calendar.render();

    });
</script>

</body>
</html>